<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" href="/favicon.ico" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>mp-blog</title>
</head>

<body>
  <div id="app"></div>

</body>
<div>
  <button id="send"">child send</button>

  </div>

  <script type=" module">

    import Client from '../dist/frame-subscriber.esm.bundle.js'
    var c
    setTimeout(() => {
      c = new Client({
        unique: 'child'
      })

      c
      .on('test', function(e){
      console.log('child got msg test: ' ,e)
      })


      function send(){
        console.log('parent node',window.parent, window.parent === window)
        c.emit('test', {a: 'i m child'}, {namespace: 'b'})

      }
      document.querySelector('#send').onclick = send
    }, 1000);

    </script>

</html>